<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <th:block th:replace="fragments/header"></th:block>
</head>
<body>
	<div class="custom-shadows" th:include="fragments/navbar"></div>
	<div class="container">

		<div class="jumbotron">

			<!-- File upload msg -->
			<h2 th:text="${upload_message}"></h2>
			
			<!-- Custom upload file -->
			<div class="container mb-5" th:if="${showUploadOption}">
				<form method="POST" action="/index" enctype="multipart/form-data">
					<p>Качете избраният от вас .csv лог файл</p>
					<div class="custom-file mb-3">
						<input type="file" class="custom-file-input" id="customFile" name="filename">
						<label class="custom-file-label" for="customFile">Избери лог файл</label>
 					</div>
				    
					<div class="mt-3">
						<button type="submit" class="btn btn-primary">Качи</button>
					</div>
				</form>
			</div>

			<!-- Common Item Set List -->
			<th:block th:replace="fragments/itemsetList(itemset=${commonItemSet}, titleText=${commonItemSetTitle})"></th:block>
			
			<!-- Rare Item Set List -->
			<div class="mt-5" th:include="fragments/itemsetList(itemset=${rareItemSet}, titleText=${rareItemSetTitle})"></div>
			
			<!-- Rare Item Set List -->
			<th:block th:replace="fragments/barGraph1"></th:block>
		</div>

	</div>

	<th:block th:replace="fragments/footer"></th:block>
     
	<script>
		// the selected file's name to appear in the selection box
		$(".custom-file-input").on("change", function() {
		  var fileName = $(this).val().split("\\").pop();
		  $(this).siblings(".custom-file-label").addClass("selected").html(fileName);
		});
	</script>
</body>
</html>